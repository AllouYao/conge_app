{% extends 'imprimerLivrePaie.html.twig' %}

{% block title 'Fiche information salarié' %}


{% block content %}
    <div class="row">
        <div class="col-md-12 col-lg-offset-2">
            <div class="widget">
                <div class="widget-content">
                    <div class="row">
                        <div class="col-md-12 mb-3" style="border: 2px double silver; padding: 10px; border-radius: 5px"
                             id="header">
                            <h4 class="text-center"><strong>FICHE D'INFORMATION SALARIE </strong></h4>
                        </div>
                        <br><br>
                        <div class="card mb-4">
                            <div class="card-body">

                                <table class="table table-bordered table-responsive table-sm">
                                    <thead>
                                    <tr style="font-size: x-small; line-height: normal">
                                        <th class="text-center">N° Ordre</th>
                                        <th class="text-center">Nom et prénoms</th>
                                        <th class="text-center">Date de naissance</th>
                                        <th class="text-center">Age (en année)</th>
                                        <th class="text-center">Site</th>
                                        <th class="text-center">Fonction</th>
                                        <th class="text-center">Nom banque</th>
                                        <th class="text-center">Compte banque</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr style="font-size: xx-small; line-height: normal">
                                        <td class="text-center">{{ index }}</td>
                                        <td>{{ personals.firstName|upper }} {{ personals.lastName|upper }}</td>
                                        <td class="text-center">{{ personals.birthday|date('d/m/Y') }}</td>
                                        <td class="text-center">{{ age }}</td>
                                        <td>{{ personals.workplace|capitalize }}</td>
                                        <td>{{ personals.job|capitalize }}</td>
                                        <td>{{ nom_banque|upper }}</td>
                                        <td class="text-center">{{ accountBanque|upper }}</td>
                                    </tr>
                                    </tbody>
                                </table>
                                <table class="table table-bordered table-responsive table-sm">
                                    <thead>
                                    <tr style="font-size: x-small; line-height: normal">
                                        <th class="text-center">Matricule</th>
                                        <th class="text-center">Catégorie</th>
                                        <th class="text-center">Grade catégoriel</th>
                                        <th class="text-center">Type de contrat</th>
                                        <th class="text-center">Date d'embauche</th>
                                        <th class="text-center">Ancienneté (en année)</th>
                                        <th class="text-center">Durée du contrat (en mois)</th>
                                        <th class="text-center">Nature, N° pièce d'identité</th>
                                        <th class="text-center">Etat Civil</th>
                                        <th class="text-center">Nombre enfant</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr style="font-size: xx-small; line-height: normal">
                                        <td class="text-center">{{ personals.matricule }}</td>
                                        <td class="text-center">{{ personals.categorie.intitule }}</td>
                                        <td>{{ personals.categorie.categorySalarie.name|upper }}</td>
                                        <td>{{ personals.contract.typeContrat|upper }}</td>
                                        <td class="text-center">{{ personals.contract.dateEmbauche|date('d/m/Y') }}</td>
                                        <td class="text-center">{{ anciennete }}</td>
                                        <td class="text-center">{{ dureeContrat }}</td>
                                        <td class="text-center">{{ personals.piece|upper }}{{ '° ' }}{{ personals.refPiece|upper }}</td>
                                        <td>{{ personals.etatCivil|upper }}</td>
                                        <td class="text-center">{{ nombreEnfant }}{{ ' enfant (s)' }}</td>
                                    </tr>
                                    </tbody>
                                </table>
                                <table class="table table-bordered table-responsive table-sm">
                                    <tr>
                                        <td>Salaire de base</td>
                                        <td class="text-end">{{ salaireBase|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                    <tr>
                                        <td>Sursalaire</td>
                                        <td class="text-end">{{ sursalaire|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                    <tr>
                                        <td>Prime de panier</td>
                                        <td class="text-end">{{ primePanier|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                    <tr>
                                        <td>Prime de salissure</td>
                                        <td class="text-end">{{ primeSalissure|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                    <tr>
                                        <td>Prime de tenue de travail</td>
                                        <td class="text-end">{{ primeTT|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                    <tr>
                                        <td>Prime outillage</td>
                                        <td class="text-end">{{ primeOutil|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                    <tr>
                                        <td>Prime rendement</td>
                                        <td class="text-end">{{ primeRendement|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                    <tr>
                                        <td>Prime de transport</td>
                                        <td class="text-end">{{ primeTransport|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                    <tr>
                                        <td>Prime de fonction</td>
                                        <td class="text-end">{{ primeFonction|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                    <tr>
                                        <td>Prime de logement</td>
                                        <td class="text-end">{{ primeLogement|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                    <tr>
                                        <td>Indemnité de fonction</td>
                                        <td class="text-end">{{ indemniteFonction|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                    <tr>
                                        <td>Indemnité de logement</td>
                                        <td class="text-end">{{ indemniteLogement|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                    <tr>
                                        <td>Avantage en nature</td>
                                        <td class="text-end">{{ avantageAmount|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                    <tr>
                                        {% set amountTT = salaireBase + sursalaire + primePanier + primeSalissure + primeTT
                                            + primeOutil + primeTransport + primeFonction + primeLogement +
                                            primeRendement + indemniteFonction + indemniteLogement + avantageAmount %}
                                        <th>TOTAL</th>
                                        <td class="text-end">{{ amountTT|number_format(0, ',', ' ') }}</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="">
            <a class="btn btn-dark btn-print pull-right" style="color: white" href="javascript:window.print()">
                <i class="icon-print"></i>
                Imprimer</a>
            <a class="btn btn-info btn-back pull-right" style="margin-right: 5px" onclick="window.close()"
               href="{{ path('app_home') }}">
                retour</a>
        </div>
    </div>
{% endblock %}


